<!doctype html>
<html>
  <head>
    <meta charset="utf8" />
    <title>Simple localForage-observable example</title>
  </head>
  <body>
    <script src="../bower_components/localforage/dist/localforage.js"></script>
    <script src="../src/localforage-observable.js"></script>
    <script>
      localforage.ready(function() {
        var observable = localforage.newObservable();

        observable.subscribe(function(args) {
          console.log('I observe everything', args);
        });

        localforage.setItem('test1', 'value1').then(function() {
          console.log('setItem(\'test1\', \'value1\')');
          return localforage.setItem('test2', 'value2');
        }).then(function() {
          console.log('setItem(\'test2\', \'value2\')');
          return localforage.setItem('test3', 'value3');
        }).then(function() {
          console.log('setItem(\'test3\', \'value3\')');
          return localforage.clear();
        });
      });
    </script>

    <p>
      Check your console log.
    </p>
  </body>
</html>
